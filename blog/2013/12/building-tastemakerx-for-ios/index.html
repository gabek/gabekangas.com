<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=content-language content="en"><meta name=color-scheme content="light dark"><meta name=description content="It's still in beta, and I'm still happily iterating over all of the features of the application, but I wanted to share the tools I used, the services I take advantage of, and overall tidbits that might be useful to fellow developers about how I've been building TastemakerX. Maybe you can in turn share some things with me.
Tools that made my life easier. Spark Inspector Spark Inspector Both it and Reveal popped up around the same time, but since then I've been using Spark Inspector as a tool to debug view-related things."><meta name=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Building TastemakerX for iOS"><meta name=twitter:description content="It's still in beta, and I'm still happily iterating over all of the features of the application, but I wanted to share the tools I used, the services I take advantage of, and overall tidbits that might be useful to fellow developers about how I've been building TastemakerX. Maybe you can in turn share some things with me.
Tools that made my life easier. Spark Inspector Spark Inspector Both it and Reveal popped up around the same time, but since then I've been using Spark Inspector as a tool to debug view-related things."><meta property="og:title" content="Building TastemakerX for iOS"><meta property="og:description" content="It's still in beta, and I'm still happily iterating over all of the features of the application, but I wanted to share the tools I used, the services I take advantage of, and overall tidbits that might be useful to fellow developers about how I've been building TastemakerX. Maybe you can in turn share some things with me.
Tools that made my life easier. Spark Inspector Spark Inspector Both it and Reveal popped up around the same time, but since then I've been using Spark Inspector as a tool to debug view-related things."><meta property="og:type" content="article"><meta property="og:url" content="https://gabekangas.com/blog/2013/12/building-tastemakerx-for-ios/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2013-12-06T19:28:36+00:00"><meta property="article:modified_time" content="2013-12-06T19:28:36+00:00"><title>Building TastemakerX for iOS · Gabe Kangas</title><link rel=canonical href=https://gabekangas.com/blog/2013/12/building-tastemakerx-for-ios/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.1.7" as=font type=font/woff2 integrity="sha256-hEIt6X6xzye8ubyk8/uxjz68cRZHsJxoKS9fQ8idUGQ=" crossorigin><link rel=stylesheet href=/css/coder.min.6ec4353a4ec5fc62be863f72f51f090b5cb7de525047dae612dd7638741ce9c1.css integrity="sha256-bsQ1Ok7F/GK+hj9y9R8JC1y33lJQR9rmEt12OHQc6cE=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.89c82b6022b96f77aeb521b240daec4f87ea029d84d1c78b8acd0735b91b3c92.css integrity="sha256-icgrYCK5b3eutSGyQNrsT4fqAp2E0ceLis0HNbkbPJI=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=alternate type=text/gemini href=/gemini/blog/2013/12/building-tastemakerx-for-ios/index.gmi title="Gabe Kangas"><meta name=generator content="Hugo 0.82.0"></head><body class=colorscheme-dark><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Gabe Kangas</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/>Home</a></li><li class=navigation-item><a class=navigation-link href=/blog/>Blog</a></li><li class=navigation-item><a class=navigation-link href=https://github.com/gabek>GitHub</a></li><li class=navigation-item><a class=navigation-link href=https://owncast.online>Owncast</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container page"><article><header><h1 class=title><a class=title-link href=https://gabekangas.com/blog/2013/12/building-tastemakerx-for-ios/>Building TastemakerX for iOS</a></h1></header><!doctype html><html><body><p>It's still in beta, and I'm still happily iterating over all of the features of the application, but I wanted to share the tools I used, the services I take advantage of, and overall tidbits that might be useful to fellow developers about how I've been building TastemakerX.  Maybe you can in turn share some things with me.</p><h2>Tools that made my life easier.</h2><img src=/squarespace_images/static_50ce21f9e4b0a7200de38642_50d2a1a4e4b0fd42afd19a23_528be1a7e4b0e9c0c1eb997f_1384899015645_Screen+Shot+2013-11-19+at+2.08.04+PM.png.04+PM.png_ alt=" Spark Inspector "> Spark Inspector<h3><a target=_blank href=http://sparkinspector.com/>Spark Inspector</a></h3><p>Both it and Reveal popped up around the same time, but since then I've been using Spark Inspector as a tool to debug view-related things.  We've all done it, make a view's background bright green or whatever so it'll stand out.  Now I skip that as this allows you to visually troubleshoot, move the frame of views around, change colors... basic stuff, but very helpful.</p><p>We've all had the "That view is supposed to be right there!".  So you jump in to 3D mode, see where it actually is, and go from there.</p><p> </p><h3><a target=_blank href=http://cocoapods.org/>Cocoa Pods</a></h3><p>I was pretty hesitant to jump into Cocoa Pod land.  If you're not yet familiar, it's a manager for dependancies.  Somewhat akin to a "package manager" for Objective-C libraries.  Like gem, or npm, pear in other languages.  I saw it as exchanging Objective-C dependency hell for Ruby dependency hell.  And frankly, I prefer the Objective-C version.  But I experimented with it on some test projects, and saw that I had no issues.  So I made the decision to use it with TastemakerX.  I'm glad I did.   I do a "pod update" after each release, and I know I'm always up to date.  It also makes experimenting with third party libraries simple.  Add it to your Podfile, "pod install", play with it.  If you don't like it, remove it from the Podfile and move on.</p><h3><a target=_blank href=http://www.cocoajsoneditor.com/>Cocoa JSON Editor</a></h3><a href=http://www.cocoajsoneditor.com/ target=_blank><img src=/squarespace_images/static_50ce21f9e4b0a7200de38642_50d2a1a4e4b0fd42afd19a23_528be3cae4b009fd59304e38_1384899532059_Screen+Shot+2013-11-19+at+2.18.26+PM.png.26+PM.png_ alt=" Cocoa JSON Editor "></a> Cocoa JSON Editor<p>If you're building the client, but not the API there's often a stage of experimentation.  This is where my experiments took place.  I was able to quickly make requests against the APIs and figure out exactly what it was I was trying to get back.  Not just for our internal API, but third party services as well.</p><p>It also really helps the scenario when you need a mocked up API endpoint.  It allows you to create data models, and the built-in web server will map it to a path.  Point your client to it and off you go.  Within seconds you went from a non-existent API to an endpoint with mocked up data.</p><img src=/squarespace_images/static_50ce21f9e4b0a7200de38642_50d2a1a4e4b0fd42afd19a23_528c2ccde4b04aa0e206fe52_1384918259807_Screen+Shot+2013-11-19+at+7.28.38+PM.png.38+PM.png_ alt=" Cocoa JSON Editor "> Cocoa JSON Editor
<a href="https://itunes.apple.com/us/app/colorbot/id434493897?mt=12" target=_blank><img src=/squarespace_images/static_50ce21f9e4b0a7200de38642_50d2a1a4e4b0fd42afd19a23_528be673e4b018e64a922751_1384900214083_Screen+Shot+2013-11-19+at+2.29.34+PM.png.34+PM.png_ alt=" Colorbot "></a> Colorbot<h3><a target=_blank href="https://itunes.apple.com/us/app/colorbot/id434493897?mt=12">Colorbot</a></h3><p>I kind of wish this was a built in developer tool with Xcode.  While I'm sure you're like me, and have your UIColor+CustomColors category, it's really nice to be able to visually organize the color scheme you have for your app.  You use the colors everywhere, so they should be available, definable, and exportable.</p><p>So your UIColor category works great in your app, but where do you go when you need that color in your image editor?  Or a CSS file?  Colorbot makes exporting a color easy as a NSColor, UIColor, hex, and more.</p><p> </p><h2>Third party tools for working with Core Data</h2><h3><a target=_blank href=https://github.com/magicalpanda/MagicalRecord>Magical Record</a></h3><p>Both this and mogenerator was suggested to me by a friend.  While I was hesitant to throw a layer on top of Core Data I experimented a bit and saw the advantages.  The big win with Magical Record is simplifying handling Core Data across multiple threads.  You really shouldn't be doing any Core Data stuffs on the main thread, so any way to make your life easier here is nice.  It likes using blocks, and so do I, so we became fast friends.  It'll give you the managed object context for the current thread you're in, and a block to do work in.  The downside?  Documentation.  It's kind of all over the place.  Certainly read through the header files.</p><h3><a target=_blank href=http://rentzsch.github.io/mogenerator/>mogenerator</a></h3><p>A nice little utility that will take your Core Data model and create two class files from it.  One with all the stuff a managed object should have, and one subclass where you get to put all your custom code.  It really does make things more manageable. </p><p> </p><h2>External Services</h2><h3><a target=_blank href=http://runscope.com>Runscope</a></h3><p>Run, don't walk, to get yourself an account with Runscope.  At its core, it works as a proxy between you and your API.  Don't let that scare you.  Because it's the middle man it's able to capture, in detail, the activity of your application.  Each request is shareable.  So if in testing you see something weird you can simply log into Runscope, grab the url of that request and share it with whoever may be of interest.  Even if they're not a Runscope user.</p><p>Other really useful things include bringing attention to all requests that have resulted in an error or requests that took too long to execute. Now with Runscope Radar you can turn a request into an API test template to make sure that thing that was broke stays fixed.  Oh, and it pretty prints the JSON of each request.  Could you do all of this with in-house unit tests, a copy of Charles, and your clipboard?  Sure, but not this good.  It just works.  I wouldn't be overestimating if I said it has saved me days of work.  And the same can be probably said for my teammates who I send Runscope URLs to saying "Could you look at this?"</p><a href=http://runscope.com target=_blank><img src=/squarespace_images/static_50ce21f9e4b0a7200de38642_50d2a1a4e4b0fd42afd19a23_528bec7be4b0597664381801_1430534964513_Screen+Shot+2013-11-19+at+2.55.21+PM.png.21+PM.png_ alt=" Runscope "></a> Runscope<h3><a target=_blank href=http://crashlytics.com>Crashlytics</a></h3><p>If you're like me you've tried a few crash reporting services.  Also if you're like me you've kind of been annoyed by all of them in some way or another.  Crashlytics wasn't really on my radar until I went to the Twitter mobile dev event a while back.  They gave a demo of Crashlytics and it caught my attention.  It works just like any other crash reporting service, but the difference is it runs a service in the background on your build machine.  This may bother some people, but it's nice that it's taking care of grabbing the dSYM and keeping track of archived builds without me taking extra steps.  Because of this I've also not had to spend a single second manually symbolicating crash logs that Crashlytics hasn't been able to handle or because I forgot to upload the dSYM.</p><p>Another nice benefit, It allows you to set arbitrary keys as your user progresses through the application, so I know of things like the last artist id a user viewed, or a chart they were checking out.  Oh, and it's free.</p><img src=/squarespace_images/static_50ce21f9e4b0a7200de38642_50d2a1a4e4b0fd42afd19a23_528c3740e4b0c1452600b050_1384920998734_tmxsandbox.PNG_ alt><h2>Product Development</h2><p>When I started at TastemakerX one of the first things we decided was that we'd be making a rather large change from the idea of the v1 product they had already built.  So we spent some time really knocking out what we wanted this product to be.  During this time I still wanted to be working on some useful code.  So I built some standalone sandbox apps to work out things like networking, image handling, Facebook Open Graph, playlist generation, etc as reusable classes I could seamlessly move over to a production app once we knew what the app would entail.</p><p>I know most projects don't have the luxury to start working on the application before they start working on the application, but it gave me a nice head start.  Not to mention it enforces solid design patterns when you're writing code not knowing how you'll be using it later.  There's no UI to contaminate your thinking.</p><p> </p><h2>Some things I've learned</h2><p>I would hope every project I ever work on I'd learn something new.  This is no exception.  Maybe some of these might jog something you might want to look at.</p><ul><li>Storyboards are fine.  Use them, or not.  I don't care.  This was my first non-sideproject storyboard from scratch application I've done and I made the mistake early on to try to *only* use the storyboard.  Know when it doesn't make sense, and go create your nib files.</li><li>Don't mix up objectWithID, objectRegisteredForID and existingObjectWithID.  Just saying.</li><li>You're probably not using NSSet/NSOrderedSet as much as you could be.</li><li>You're also probably not using NSCache as much as you could be.</li><li>Take advantage of iOS 7's <a target=_blank href=https://developer.apple.com/library/ios/documentation/uikit/reference/UIApplicationDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/application:performFetchWithCompletionHandler:>performFetchWithCompletionHandler</a>.  You have a background window of time to do some work.  So instead of just fetching new data, maybe also do some of the post-processing you would normally have to do when the UI is up.  Maybe pre-calculate the height of UITableView cells for this data and cache that for later, or if you downloaded some images that need to be resized take care of some of that.  But there's only so much you can do in this window, so be smart about it.</li><li>Speaking of UITableView, check out iOS 7's <a target=_blank href=https://developer.apple.com/library/ios/documentation/uikit/reference/UITableViewDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UITableViewDelegate/tableView:estimatedHeightForRowAtIndexPath:>estmatedHeightForRowAtIndexPath</a> if it makes sense for you.  It'll postpone the height calculation for a row until it's rendered instead of upfront.  This makes more sense on older devices, but on the flipside you might see some frames drop the first time the actual <a target=_blank href=https://developer.apple.com/library/ios/documentation/uikit/reference/UITableViewDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UITableViewDelegate/tableView:heightForRowAtIndexPath:>heightForRowAtIndexPath</a> is called to calculate the real height when the row is being built.</li><li>Aside from the audio playback manager, almost every instance of KVO I originally implemented eventually got ripped out.  What seems like an elegant solution using KVO is probably just making things over complex.  Think about if that's really the solution for the problem.</li><li>I have all network calls go through a singleton and fire off completion blocks.  That's worked really well and in retrospect I wish I did the same thing with Core Data.  On the same topic, if I were to go back (and might!) I would never pass back managed objects.  Use Core Data for storage, and build standalone, separate objects out of them.  Each object can have a reference to its Core Data counterpart for CRUD operations.</li></ul><p>So that's my little rundown on things I found useful or interesting so far with TastemakerX.  I'd love to hear things that you're using to make your life easier or things you wish you would have known when you started as well.  Have fun, mobile friends!</p><img src=/squarespace_images/static_50ce21f9e4b0a7200de38642_50d2a1a4e4b0fd42afd19a23_52a22368e4b0866eaca12521_1386357614787_tmxs.png_ alt=" Iterate! "> Iterate!</body></html></article></section></div><footer class=footer><section class=container><p>I simplified my website. It's better this way.</p></section></footer></main></body></html>