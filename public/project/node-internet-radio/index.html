<!DOCTYPE html>
<html>

<head>
    <meta name="generator" content="Hugo 0.69.2" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="The personal home page of Gabe Kangas">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/favicon/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/favicon/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/favicon/pple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/favicon/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/favicon/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/favicon/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/favicon/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="/favicon/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="/favicon/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/favicon/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="/favicon/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="&nbsp;" />
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="/favicon/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="/favicon/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="/favicon/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="/favicon/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="/favicon/mstile-310x310.png" />

    <link rel="stylesheet"
        href="https://storage.googleapis.com/code.getmdl.io/1.1.3/material.grey-orange.min.css" />

    
    
    
    
    
    
    <link rel="stylesheet" href="/css/style.min.cd2ac739f06431be109ffdcb7ad75a36e2ed473f233926d44c62f37c2096047c.css" />

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/brands.css"
        integrity="sha384-1KLgFVb/gHrlDGLFPgMbeedi6tQBLcWvyNUN+YKXbD7ZFbjX6BLpMDf0PJ32XJfX" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/fontawesome.css"
        integrity="sha384-jLuaxTTBR42U2qJ/pm4JRouHkEDHkVqH0T1nyQXn1mZ7Snycpf6Rl25VBNthU4z0" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/solid.css"
        integrity="sha384-+0VIRx+yz1WBcCTXBkVQYIBVNEFH1eP6Zknm16roZCyeNg2maWEpk/l/KsyFKs7G" crossorigin="anonymous">
    <link rel="stylesheet" href="https://gabekangas.com/css/custom.css" />

    
    
    
    
    
    
    
    

    <script src="/js/scripts.min.51220b6cff322f0f22ece056dc7ba902c83663c1fc1fb67b092c36a526f2eee8.js" async></script><meta property="og:title" content="node-internet-radio" />
<meta property="og:description" content="Get internet radio stream details via Node.js." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gabekangas.com/project/node-internet-radio/" />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="node-internet-radio"/>
<meta name="twitter:description" content="Get internet radio stream details via Node.js."/>





    
    <title>node-internet-radio | Gabe Kangas</title>
    
</head>

<body style="background-image: url('/images/background.png');">
    <div class="overlay">
    </div>

    <div class="hmdl-body mdl-layout mdl-js-layout has-drawer is-upgraded">        
        <header class="mdl-layout__header mdl-layout__header--transparent mdl-layout__header--scroll">            
            <div class="mdl-layout__header-row">
                <div class="mdl-layout-spacer"></div>
                <nav class="mdl-navigation">
                <p><input id="search-input" type="text" placeholder="Search..."/></p>
                <div id="search-results"></div>
                <a class="mdl-navigation__link" href="/">Home</a>
                <a class="mdl-navigation__link" href="/blog/">Blog</a>
                <a class="mdl-navigation__link" href="/project/">Projects</a>
                <a class="mdl-navigation__link" href="/about/">About</a>
                </nav>
            </div>
        </header>
        <div class="mdl-layout__drawer">
            <nav class="mdl-navigation">
            <a class="mdl-navigation__link" href="/">Home</a>
            <a class="mdl-navigation__link" href="/blog/">Blog</a>
            <a class="mdl-navigation__link" href="/project/">Projects</a>
            <a class="mdl-navigation__link" href="/about/">About</a>
            </nav>
        </div>

        <main class="mdl-layout__content">
            <div class="hmdl-page mdl-grid">
                <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">
                    <div class="hmdl-page-banner mdl-card__media mdl-color-text--grey-50" style=" background-color:#263238;">
                        <h3 class="card-header-text" style="color:#fafafa;">Node-Internet-Radio</h3>
                    </div>
                    <div class="hmdl-page-meta mdl-color-text--grey-700 mdl-card__supporting-text">
                        <div class="section-spacer"></div>
                        <div><span>
                            <a id="repolink" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" href="https://github.com/gabek/node-internet-radio"><i class="material-icons icon ion-social-github"></i><span class="visuallyhidden">Github</span></a>
                            <span for="repolink" class="mdl-tooltip">Code Repository</span>
                        </span></div>
                    </div>
                        
                    <div class="hmdl-page-content mdl-color-text--grey-700 mdl-card__supporting-text">
                        <p>Node.js module to get Now Playing information from an internet radio stream in the form of the following object:</p>
<pre><code>{ listeners: '89',
  bitrate: '128',
  title: 'Die Antwoord - I Fink U Freaky',
  fetchsource: 'SHOUTCAST_V1' }
</code></pre><p>The syntax is simple:</p>
<pre><code>getStationInfo(url, callback, [method]);
</code></pre><h2 id="install">Install</h2>
<pre><code>npm install node-internet-radio
</code></pre><p>This Node.js module supports three different methods to fetch the station details of an internet radio stream.
All but fetching details from the raw audio stream give you the currently playing track, bitrate, and listener count.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>StreamSource</th>
<th>Track</th>
<th>Bitrate</th>
<th>Listeners</th>
<th>Headers</th>
</tr>
</thead>
<tbody>
<tr>
<td>Shoutcast V1</td>
<td>StreamSource.SHOUTCAST_V1</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>X</td>
</tr>
<tr>
<td><a href="http://wiki.shoutcast.com/wiki/SHOUTcast_DNAS_Server_2_XML_Reponses">Shoutcast V2</a></td>
<td>StreamSource.SHOUTCAST_V2</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>X</td>
</tr>
<tr>
<td><a href="http://icecast.org/docs/icecast-2.4.1/server-stats.html">Icecast</a></td>
<td>StreamSource.ICECAST</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>X</td>
</tr>
<tr>
<td><a href="http://www.smackfu.com/stuff/programming/shoutcast.html">Raw Stream (icy metadata)</a></td>
<td>StreamSource.STREAM</td>
<td>✓</td>
<td>X</td>
<td>X</td>
<td>✓</td>
</tr>
<tr>
<td>Radionomy Scraping</td>
<td>StreamSource.RADIONOMY</td>
<td>✓</td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
</tbody>
</table>
<h2 id="examples">Examples</h2>
<p>If you have an audio stream and don&rsquo;t know what approach to take then simply omit the last <strong>method</strong> parameter
and it will use all available options and return the first one that completes. At the very least the <em>stream</em> method
will return something from a valid stream, but it will not support the Bitrate and Listener count.</p>
<pre><code>var internetradio = require('node-internet-radio');
var testStream = &quot;http://23.27.51.2:6699&quot;;
internetradio.getStationInfo(testStream, function(error, station) {
  console.log(station);
});
</code></pre><p>While this approach is easy, it&rsquo;s not efficient. You should not be hitting invalid resources and slurping down the raw audio feed each time if you don&rsquo;t need to.</p>
<p>The approach you should take is to find out what source method you want to utilize, cache it, and then only use that going forward. Think about going through each method in order
of preference (probably V1, V2, Icecast, Stream) and take note of that for next time.</p>
<p>To fetch the station details using a specific method simply pass it as the last argument using one of the <strong>StreamSource</strong> constants above.</p>
<pre><code>internetradio.getStationInfo(&quot;http://coolstream.net/&quot;, function(error, station) {
  console.log(station);
}, internetradio.StreamSource.SHOUTCAST_V1);
</code></pre><h2 id="radionomy-support">Radionomy Support</h2>
<p>Because Radionomy begins an ad each time you connect directly to the audio stream you&rsquo;ll never know what is actually playing.
Because of this the option of Radionomy.com scraping to get the track name has been added. This is likely to break in the future any time
Radionomy updates their web site.</p>
<h2 id="server-headers">Server headers</h2>
<p>If you are interested in the server headers instead of just the now-playing information use <strong>StreamSource.STREAM</strong> and you&rsquo;ll get the server headers from the stream.</p>
<pre><code>{ title: 'Tosca - Zuri',
  fetchsource: 'STREAM',
  headers:
   { 'icy-br': '128',
     'icy-genre': 'Ambient Chill',
     'icy-name': 'Groove Salad',
     'icy-notice1': '&lt;BR&gt;This stream requires &lt;a href=&quot;http',
     'icy-notice2': 'SHOUTcast Distributed Network Audio Server/Linux v1.9.5&lt;BR&gt;',
     'icy-pub': '0',
     'icy-metaint': '45000' } }
</code></pre>
                    </div>
                    
                    <div class="hmdl-page-comments mdl-color-text--primary-contrast mdl-card__supporting-text comments"> 
                        <a ></a>
                    </div>  
                </div>                
                <nav class="mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
                    <div class="section-spacer"></div>
                    <a href="/project/thecabin-web/">
                        Newer
                        <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                            <i class="icon ion-android-arrow-forward"></i>
                        </button>
                    </a>
                </nav>
 
            </div>
</main>
<footer class="mdl-mini-footer">
    <div class="mdl-mini-footer--left-section">                
                <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-mini-footer--social-btn social-btn" href="mailto:gabek@real-ity.com?subject=Hi">
                    <i class="material-icons_lg icon ion-email"></i>
                    <span class="visuallyhidden">Email</span>
                </a>
                <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-mini-footer--social-btn social-btn" href="https://github.com/gabek/">
                    <i class="material-icons_lg icon ion-social-github"></i>
                    <span class="visuallyhidden">Github</span>
                </a>
                <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-mini-footer--social-btn social-btn" href="https://www.linkedin.com/in/gabek/">
                    <i class="material-icons_lg icon ion-social-linkedin "></i>                        
                    <span class="visuallyhidden">LinkedIn</span>
                </a>

    </div>
    <div class="mdl-mini-footer--right-section">
        <span>© 2020 Gabe Kangas</span>
    </div>
</footer>
<div class="mdl-layout__obfuscator"></div>
</div>


</body>

</html>
